Задача :
Нужно сделать django app, который будет реализовывать древовидное меню, соблюдая следующие условия:

`1) Меню реализовано через template tag`

`2) Все, что над выделенным пунктом - развернуто. Первый уровень вложенности под выделенным пунктом тоже развернут.`

`3) Хранится в БД.`

`4) Редактируется в стандартной админке Django`

`5) Активный пункт меню определяется исходя из URL текущей страницы`

`6) Меню на одной странице может быть несколько. Они определяются по названию.`

`7) При клике на меню происходит переход по заданному в нем URL. URL может быть задан как явным образом, так и через named url.`

`8) На отрисовку каждого меню требуется ровно 1 запрос к БД`

 Нужен django-app, который позволяет вносить в БД меню (одно или несколько) через админку, и нарисовать на любой нужной странице меню по названию.
 
`{% draw_menu 'main_menu' %}`

 *При выполнении задания из библиотек следует использовать только Django и стандартную библиотеку Python.
 При решении тестового задания у вас не должно возникнуть вопросов. Если появляются вопросы, вероятнее всего, у вас недостаточно знаний.

Решение


1) Реализация меню через template tag

Для реализации меню используется template tag draw_menu, который определен в menu_tags.py.
2) Все, что над выделенным пунктом - развернуто. Первый уровень вложенности под выделенным пунктом тоже развернут

В коде template tag draw_menu используется рекурсивный подход для разворачивания всех вложенных пунктов меню, начиная от текущего активного пункта и до корня.
3) Хранение в БД

Меню хранится в модели MenuItem, которая сохраняется в базе данных.
4) Редактирование в стандартной админке Django

Модель MenuItem зарегистрирована в админке Django в файле admin.py, что позволяет редактировать меню через стандартную админку.
5) Активный пункт меню определяется исходя из URL текущей страницы

Активный пункт меню определяется на основе текущего URL страницы и сравнивается с URL каждого пункта меню.
6) Меню на одной странице может быть несколько. Они определяются по названию.

В draw_menu template tag передается параметр menu_name, который определяет, какое меню следует отобразить. Таким образом, на одной странице можно отобразить несколько разных меню, указав разные menu_name.
7) Переход по URL при клике на меню

URL для каждого пункта меню задается в модели MenuItem и может быть явным или задано через named URL. При клике на пункт меню происходит переход по указанному URL.
8) Один запрос к БД на отрисовку каждого меню

В коде template tag draw_menu используется select_related для предварительной загрузки связанных объектов и filter для выборки всех пунктов меню с определенным menu_name. Это позволяет выполнить ровно один запрос к БД на отрисовку меню.

Исходя из вышеуказанного, код удовлетворяет всем указанным условиям.